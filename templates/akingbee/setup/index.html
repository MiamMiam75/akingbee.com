{% extends "akingbee/layout.html" %}

{% block title %}
    {{trads[7]}}
{% endblock %}

{% block main %}
    <div class="container-fluid">
        <div class="row">
            {% include "akingbee/setup/menu.html" %}
            <div class="col-10">
                <br/><br/>
                {% if not title_id %}
                <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4 justify-center"><p><h4>{{trads[87]}}</h4></p></div>
                    <div class="col-4"></div>
                </div>
                <br/><br/>
                {% if lang == 'fr' %}
                <p class="text-center">
                    Ici vous pouvez modifier les différentes données liées à votre compte. Choisissez le type de données que vous voulez modifier via le menu à gauche.
                </p>
                {% else %}
                <p class="text-center">
                    Here you can modify all the different data linked to your account. You can select the data you wish to modify from the left side menu.
                </p>
                {% endif %}
                {% else %}
                <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4 justify-center"><h4>{{trads[title_id]}}</h4></div>
                    <div class="col-4"></div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-4 justify-center">
                        <button type="button" class="btn btn-secondary" onclick="show_modal_new_data();">{{trads[89]}}</button>
                    </div>
                    <div class="col-4 justify-center">
                        {% if objects|length > 0 %}
                        <table class="table table-striped table-bordered" id="data_table">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">{{trads[117]}}</th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <body>
                                {% for n in range(objects|length) %}
                                <tr>
                                    <th scope="row">{{n+1}}</th>
                                    <td class="data_td">{{objects[n][column_name]}}</td>
                                    <td><button type="button" class="btn btn-link" onclick="show_modal_data_edit('{{objects[n].id}}', '{{objects[n][column_name]}}');">{{trads[85]}}</button></td>
                                    <td><button type="button" class="btn btn-link" onclick="show_delete_data({{objects[n].id}});">{{trads[64]}}</button></td>
                                </tr>
                                {% endfor %}
                            </body>
                        </table>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

{% include "/akingbee/modals/new_setup.html" %}
{% include "/akingbee/modals/edit_setup.html" %}

{% endblock %}

{% block scripts %}
        <script type='text/javascript' src="/static/akingbee/main_script.js"></script>
        <script type='text/javascript' src="/static/akingbee/pages/setup.js"></script>
{% endblock %}
